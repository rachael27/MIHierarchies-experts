<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MIHierarchies</title>
    <link rel="icon" href="Images/logo-hcircle-dark.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./assets/styles.css" />



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://kit.fontawesome.com/ae1e2e7d99.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.js"></script>





</head>


<body>

    <div class="container-fluid">

        <div class="fixed-top row"
            style=" margin-bottom:20%; float:left; background-color:#155446; color:rgb(255, 255, 255);">
            <div class="col-1"></div>
            <div class="col-10">
                <span>
                    <br>

                    <h1><i class="fa-solid fa-sitemap" style="color:rgba(240, 87, 87, 0.746);"></i> <i
                            style="margin-left: -20px; color:rgba(205, 203, 60, 0.7)" class="fa-solid fa-sitemap"></i>
                        Multiple-Intersecting
                        Hierarchical
                        Visualization
                    </h1>
                    <br>
                </span>
            </div>
            <div class="col-1"></div>
        </div>

        <div class="row" style="background-color: white;">
            <div class="col-1"></div>
            <div class="col-10">




                <div style="margin-top: 10%;">
                    <div style="margin-top: 7%; margin-bottom: 20px;" align="right">
                        <button id="btn-downloadlog" type="button" class="btn btn-lg" data-toggle="tooltip"
                            data-bs-placement="right" style="display: none;"
                            title="Email log file to rf312@sussex.ac.uk">Download Log <i
                                class="fa-solid fa-download"></i></button>
                    </div>
                    <div id="blockquote">


                        <blockquote>
                            <p>
                                Before you start the study, please make sure to do the following:
                                <br>
                                1. Close all other tabs. Chrome is the preferred browser for this study. <br>
                                2. Maximize your browser. <br>
                                3. DO NOT use the back button in your browser. <br>

                                <br>

                                In this study, you will evaluate a visualization called the <b>LinkedTree
                                    visualization
                                </b>.

                                <br>
                                <br>
                                The study will be carried out in <b> 4 phases: Overview, Guided Tour, Training and
                                    Experiment,</b> and will take approximately <em>40 minutes </em> to complete.
                                <br>
                                <br>
                                We will analyse the profile of your answers to eliminate those that are flagged as
                                guesswork. At the end of the study, <b> don't forget to download and
                                    email
                                    your
                                    log files. </b>
                                <mark>Only those profiles that have spent a fair time on each question and are not
                                    flagged as guesswork will receive an amazon
                                    voucher
                                    code.</mark>

                                <br>
                                <br>
                                Please note that once you've completed a phase, you can't go back to it. However, you
                                can go back and forth
                                within a phase.


                                <br>
                                <br>

                                <mark>Instructions for every phase will appear here.</mark>

                            </p>
                        </blockquote>
                        <div id="email-log" align="center">
                            <span style="display:flex; margin-left: 20px;"></span>
                        </div>
                    </div>
                    <br style="margin: 20% 0 20px 0;">



                    <br>
                    <br>
                    <span style="color: black; height:50px; font-size:x-large; font-weight: bold; margin-top: 1%; ">
                        Phases of the study
                    </span>
                </div>
            </div>
            <div class="col-1"></div>
        </div>




        <div class="row" style="margin-top:2%; --bs-gutter-x:0rem; font-size: large; font-weight: bold;">

            <div class="col-2"></div>

            <div class="progress-overview col-2">
                <div class="progress-bar" id="progress-overview" role="progressbar"
                    style="width: 30%; background-color:#5F9C3F ;">
                    Overview
                </div>

            </div>
            <div class="progress-tour col-2">
                <div class="progress-bar" id="progress-tour" role="progressbar"
                    style="width: 0%; background-color: #1d83d1;">
                </div>
                <span style="color:black; margin-left: 50%;"> Guided Tour </span>
            </div>
            <div class="progress-training col-2">
                <div class="progress-bar" id="progress-training" role="progressbar"
                    style="width: 0%; background-color: #dba620;">
                </div>
                <span style="color:black; margin-left: 50%;"> Training </span>
            </div>
            <div class="progress-experiment col-2">
                <div class="progress-bar" id="progress-experiment" role="progressbar"
                    style="width: 0%; background-color: #c6503b;">
                </div>
                <span style="color:black; margin-left: 50%;"> Experiment </span>
            </div>



            <!--
                <div class="btn-group-lg" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-outline-primary" style="margin-right:20px;">Overview</button>
                    <button type="button" class="btn btn-outline-primary" style="margin-right:20px;">Guided
                        Tour</button>
                    <button type="button" class="btn btn-outline-primary" style="margin-right:20px;">Training</button>
                    <button type="button" class="btn btn-outline-primary" style="margin-right:20px;">Experiment</button>
                </div>
                -->
        </div>
        <div class="col-2"></div>
    </div>


    <div class="row" style="margin-top:2%;">
        <div class="col-2">
        </div>

        <div class="col-10" align="left">
            <div class="btn-group-vertical" role="group" aria-label="Slide button group" id="overview-btn">
                <button id="mihierarchies-btn" type="button" class="btn btn-success">
                    MI Hierarchies</button>
                <button id="fsystemexample-btn" type="button" class="btn btn-success" disabled>File
                    System
                    Example</button>

                <button id="fsystemchanges-btn" type="button" class="btn btn-success" disabled>File
                    System
                    Changes</button>



                <button id="connectinglinks-files-btn" type="button" class="btn btn-success" disabled> Connecting Links
                    - Files</button>

                <button id="connectinglinks-folders-btn" type="button" class="btn btn-success" disabled>Connecting Links
                    - Folders</button>

                <button id="connectinglinks-colors-btn" type="button" class="btn btn-success" disabled>Connecting Links
                    - Colors</button>

                <button id="linkedtreevideo-btn" type="button" class="btn btn-success" disabled>LinkedTree
                    in
                    action</button>


                <button id="treerelationships-btn" type="button" class="btn btn-success" disabled>Tree
                    Relationships</button>

            </div>

        </div>


        <div class="col-1"></div>
    </div>


    <div class="row">
        <div class="col-12">
            <div class="btn-group btn-group-lg" role="group" aria-label="Second group">
                <button id="btn-back" type="button" class="btn" style="background-color:#155446; color: white;">
                    <i class="fa-solid fa-arrow-left"></i> Back</button>
                <button id="btn-next" type="button" class="btn" style="margin-left: 2px; 
                        background-color:#155446; color: white; ">Next <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>
            <text id="scrolldown" style="color:#155446;;font-size: 30px;margin-left: 10px;">Scroll down <i
                    class="fa-solid fa-arrow-down"></i> <i class="fa-solid fa-arrow-down"></i></text>
            <div class="alert alert-warning alert-dismissible fade show" id="alert" role="alert"
                style="opacity:0;width:50%;margin-left: 25%;margin-top: 1%;">
                <strong>Please pause and play as required.</strong>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

        </div>
    </div>




    <div class="row" id="slidescarousel">
        <div class="col-12" id="imgvid-div">
            <br>
            <img id="image" src="Images/mihierarchies.png" class="img-fluid" alt="Responsive image">
            <br>

        </div>
    </div>
    </div>





    <script type="text/javascript">

        var logObject = [];


        // var logObject = getLogObject();

        //console.log(logObject);

        const vizID = "linkedtree";
        const pageID = "landingpage";

        var date = new Date();
        const urlpage = new URLSearchParams(window.location.search).get('page');
        //console.log(pageID);
        //console.log(window);



        //console.log(JSON.parse(localStorage.getItem("logObject")));
        update_log("", "landed on landing page", "", "");

        d3.select("#mihierarchies-btn")
            .style("width", d3.select(".progress-tour")._groups[0][0].offsetWidth + "px");

        d3.select("#overview-btn")
            .selectAll("button")
            .style("height", "30px");

        //console.log(logObject);
        //console.log(JSON.parse(localStorage.getItem("logObject")));

        function displayAlert() {

            d3.select("#alert")
                .style("opacity", 1);


        }

        d3.select("#btn-downloadlog")
            .on("click", function () {

                update_log("btn-downloadlog", "button", "download log", "click");


                var logstr = "userID,vizID,screenWidth,screenHeight,pageID,elementID,elementType,elementDescription,eventDescription, date,overall_timestamp,questionID,question,useranswer,correctanswer,score\n";

                var logarr = JSON.parse(localStorage.getItem("logObject"));

                for (var i = 0; i < logarr.length; i++) {
                    logstr = logstr + logarr[i].userID + "," + logarr[i].vizID + "," + logarr[i].screenWidth + "," + logarr[i].screenHeight + "," + logarr[i].pageID + "," + logarr[i].elementID + "," + logarr[i].elementType + "," + logarr[i].elementDescription + "," + logarr[i].eventDescription + "," + logarr[i].date + "," + logarr[i].overall_timestamp + "," + logarr[i].questionID + "," + logarr[i].question + "," + logarr[i].useranswer + "," + logarr[i].correctanswer + "," + logarr[i].score + "\n";
                }

                var blob = new Blob([logstr], { type: "text/csv;charset=utf-8" });
                saveAs(blob, "MIHierarchiesLog.csv");

            });



        /*  function setLogObject(logObject) {
             logObject = logObject;
             console.log("SETTER");
             console.log(logObject);
 
         }
 
         function getLogObject() {
             console.log("GETTER");
             console.log(logObject);
             return logObject;
 
         }
 
  */
        console.log(urlpage);
        var slides = ["mihierarchies", "fsystemexample", "fsystemchanges", "connectinglinks-files", "connectinglinks-folders", "connectinglinks-colors", "linkedtreevideo", "treerelationships"];
        if (urlpage == "landingpage") {



            var numofclicks = 0;

            d3.select("#btn-next")
                .on("click", function (d) {
                    numofclicks++;

                    if (numofclicks == 1) {
                        d3.select("#scrolldown")
                            .transition()
                            .duration(1000)
                            .style("opacity", 0)
                            .remove();
                        //document.getElementById("slidescarousel").scrollIntoView(true);
                    }



                    //console.log(numofclicks + " " + slides.length);

                    if (numofclicks >= slides.length) {
                        update_log("btn-next", "button", "redirect to guided tour", "click");

                        //window.location.href = 'treeswlinking.html?page=guidedtour';
                        window.location.href = 'treeswlinking.html?page=guidedtour';
                        window.body.style.zoom = "25%";
                        //d3.select("body").style("zoom", "25%");
                        //document.body.style.zoom = "25%";
                    }



                    else {
                        //console.log(slides[numofclicks]);
                        update_log("btn-next", "button", "carousel image on display " + slides[numofclicks], "click");

                        d3.select("#" + slides[numofclicks] + "-btn")._groups[0][0].disabled = false;

                        if (slides[numofclicks] == "linkedtreevideo") {
                            displayAlert();
                            d3.select("#image").remove();
                            d3.select("#imgvid-div")
                                .append("video")
                                .attr("id", "video")
                                .attr("width", "80%")
                                .attr("height", "70%")
                                .attr("controls", "")
                                //.attr("autoplay", "")
                                .append("source")
                                .attr("src", "Images/linkedtreeinaction.mov")
                                .attr("type", "video/mp4");

                        }
                        else {
                            d3.select("#video").remove();
                            d3.select("#alert")
                                .style("opacity", 0);
                            if (d3.select("#image").empty())
                                d3.select("#imgvid-div")
                                    .append("img")
                                    .attr("id", "image")
                                    .attr("src", "Images/" + slides[numofclicks] + ".png")
                                    .attr("class", "img-fluid");

                            else
                                d3.select("#image")
                                    .attr("src", "Images/" + slides[numofclicks] + ".png");

                        }

                        d3.select("#progress-overview").style("width", ((numofclicks + 1) / (slides.length) * 100) + "%");


                        if (numofclicks + 1 == slides.length) {
                            console.log(numofclicks + " " + slides.length);
                            d3.select("#progress-overview")
                                .text("Overview")
                                .style("font-family", "Arial")
                                .append("i")
                                .attr("class", "fa-solid fa-flag-checkered");
                            //.style("color", "white");

                            d3.select("#blockquote")
                                .select("p")
                                .remove();

                            d3.select("#blockquote")
                                .append("p")
                                .html("The next phase (i.e.) the <b> guided tour </b> will introduce you to the visualization. <br><br><mark>Please note, that you will be able to interact with the elements in the visualization.</mark>")


                        }

                    }


                });

            d3.select("#btn-back")
                .on("click", function (d) {
                    d3.select("#" + slides[numofclicks] + "-btn")._groups[0][0].disabled = true;
                    numofclicks = numofclicks - 1;
                    console.log(numofclicks + " " + slides.length);
                    if (numofclicks <= slides.length && numofclicks >= 0) {
                        //console.log(slides[numofclicks]);
                        update_log("btn-next", "button", "carousel image on display " + slides[numofclicks], "click");

                        //d3.select("#" + slides[numofclicks] + "-btn")._groups[0][0].disabled = true;

                        if (slides[numofclicks] == "linkedtreevideo") {
                            d3.select("#image").remove();
                            d3.select("#imgvid-div")
                                .append("video")
                                .attr("id", "video")
                                .attr("width", "80%")
                                .attr("height", "70%")
                                .attr("controls", "")
                                .append("source")
                                .attr("src", "Images/linkedtreeinaction.mov")
                                .attr("type", "video/mp4");

                        }
                        else {
                            d3.select("#video").remove();

                            if (d3.select("#image").empty())
                                d3.select("#imgvid-div")
                                    .append("img")
                                    .attr("id", "image")
                                    .attr("src", "Images/" + slides[numofclicks] + ".png")
                                    .attr("class", "img-fluid");
                            else
                                d3.select("#image")
                                    .attr("src", "Images/" + slides[numofclicks] + ".png");

                        }
                        d3.select("#progress-overview").style("width", ((numofclicks + 1) / (slides.length) * 100) + "%");
                    }


                });
        }

        else if (urlpage == "guidedtour") {
            console.log("entered gt");


            d3.select("#blockquote")
                .select("p")
                .remove();



            d3.select("#blockquote")
                .append("p")
                .html("The next phase (i.e.) the <b>training phase </b> is designed to help you evaluate your understanding of the visualization. <br><br> <b>Hints</b> will be available throughout this phase to guide you. <br><br><mark>You must choose the correct answer to proceed to the next question.</mark>")

            d3.select("#slidescarousel").remove();
            d3.select("#scrolldown").remove();


            for (var i = 0; i < slides.length; i++) {
                d3.select("#" + slides[i] + "-btn")._groups[0][0].disabled = false;
            }

            d3.select("#progress-overview").style("width", "100%");
            d3.select("#progress-overview")
                .text("Overview")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");



            d3.select(".progress-tour")
                .select("span")
                .remove();


            d3.timeout(function () {
                d3.select("#progress-tour")
                    .style("width", "100%");

            }, 200);




            d3.select("#progress-tour")
                .text("Guided tour")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");


            d3.select("#btn-next")
                .on("click", function (d) {
                    update_log("btn-next", "button", "redirect to training questions", "click");
                    window.location.href = 'treeswlinking.html?page=trainingquestions';
                })
                .append("span")
                .attr("class", "spinner-grow spinner-grow-sm")
                .attr("role", "status");


            d3.select("#btn-back")
                .on("click", function (d) {
                    update_log("btn-next", "button", "redirect to overview", "click");
                    window.location.href = 'twl-landingpage.html?page=landingpage';
                });


            d3.timeout(function () {
                d3.select("#btn-back")
                    .select("span")
                    .remove();
            }, 3000);

        }

        else if (urlpage == "trainingquestions") {
            console.log("entered tq");


            d3.select("#blockquote")
                .select("p")
                .remove();

            d3.select("#blockquote")
                .append("p")
                .html("The last phase (i.e.) the <b>experiment phase</b> is designed to evaluate your understanding of the visualization. <br><br> <b> Hints </b> will NOT be available. <br><br> <mark>You must choose an option/answer to proceed to the next question. </mark>")

            d3.select("#slidescarousel").remove();
            d3.select("#scrolldown").remove();

            for (var i = 0; i < slides.length; i++) {
                d3.select("#" + slides[i] + "-btn")._groups[0][0].disabled = false;
            }

            d3.select("#progress-overview").style("width", "100%");
            d3.select("#progress-overview")
                .text("Overview")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");

            d3.select("#progress-tour").style("width", "100%");

            d3.select("#progress-tour")
                .text("Guided tour")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            // .style("color", "white");

            d3.timeout(function () {
                d3.select("#progress-training")
                    .style("width", "100%");

            }, 200);

            d3.select("#progress-training")
                .text("Training questions")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");

            d3.select(".progress-overview")
                .select("span")
                .remove();



            d3.select(".progress-tour")
                .select("span")
                .remove();



            d3.select(".progress-training")
                .select("span")
                .remove();



            d3.select("#btn-next")
                .on("click", function (d) {
                    update_log("btn-next", "button", "redirect to experiment questions", "click");

                    window.location.href = 'treeswlinking.html?page=experimentquestions';
                })
                .append("span")
                .attr("class", "spinner-grow spinner-grow-sm")
                .attr("role", "status");


            d3.select("#btn-back")
                .on("click", function (d) {
                    update_log("btn-back", "button", "redirect to guided tour", "click");

                    window.location.href = 'treeswlinking.html?page=guidedtour';
                });
        }

        else if (urlpage == "experimentquestions") {
            console.log("entered eq");

            d3.select("#blockquote")
                .select("blockquote")
                .select("p")
                .remove();

            d3.select("#blockquote")
                .select("blockquote")
                .append("p")
                .html("<code style='font-size:25px; color:#155446;'>Thank you for your participation! <br><br> Don't forget to download and email the MIHierarchiesLog.csv file to receive your amazon voucher code.</code>");

            d3.select("#slidescarousel").remove();
            d3.select("#scrolldown").remove();

            d3.select("#btn-downloadlog")
                .style("display", "block");

            for (var i = 0; i < slides.length; i++) {
                console.log(i + " " + slides[i]);
                d3.select("#" + slides[i] + "-btn")._groups[0][0].disabled = false;
            }

            d3.select("#progress-overview").style("width", "100%");
            d3.select("#progress-overview")
                .text("Overview")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");

            d3.select("#progress-tour").style("width", "100%");
            d3.select("#progress-tour")
                .text("Guided tour")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");

            d3.select("#progress-training").style("width", "100%");
            d3.select("#progress-training")
                .text("Training questions")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");
            //.style("color", "white");

            d3.timeout(function () {
                d3.select("#progress-experiment")
                    .style("width", "100%");

            }, 200);

            d3.select("#progress-experiment")
                .text("Experiment questions")
                .style("font-family", "Arial")
                .append("i")
                .attr("class", "fa-solid fa-flag-checkered");


            d3.select(".progress-overview")
                .select("span")
                .remove();




            d3.select(".progress-tour")
                .select("span")
                .remove();




            d3.select(".progress-training")
                .select("span")
                .remove();



            d3.select(".progress-experiment")
                .select("span")
                .remove();


            d3.select("#btn-back")
                .attr("disabled", true);


            /*  d3.select("#email-log")
                 .style("background-color", "#F3E8EA")
                 .style("border-left", "15px solid #155446")
                 .append("br"); */




            d3.select("#email-log")
                //d3.select("#blockquote")
                .select("span")
                .append("a")
                .attr("class", "btn btn-lg")
                .attr("role", "button")
                .attr("data-toggle", "tooltip")
                .attr("data-bs-placement", "bottom")
                .attr("title", "Email will be sent through your locally installed email client")
                .attr("aria-pressed", "true")
                .attr("href", "mailto:rf312@sussex.ac.uk?subject=MI Hierarchies Visualization Study&body=Hi, I've attached my log file.")
                //.style("background-color", "green")
                .html("Send a pre-filled email! <i class='fa-regular fa-envelope'></i> ");



            /* d3.select("#email-log")
                .select("span")
                //d3.select("#blockquote")
                .append("h5")
                .html("<br>(or)"); */

            d3.select("#email-log")
                //d3.select("#blockquote")
                .select("span")
                .append("p")
                .html("<b>(or)</b> Email your log file to:")
                .append("mark")
                .text("rf312@sussex.ac.uk ");

            d3.select("#email-log")
                //d3.select("#blockquote")
                .select("span")
                .select("p")
                .append("button")
                .attr("type", "button")
                .attr("class", "btn")
                .attr("id", "btn-copyemail")
                .attr("data-toggle", "tooltip")
                .attr("data-bs-placement", "right")
                .attr("title", "Copy email to clipboard")
                //.style("display", "flex")
                .append("i")
                .attr("class", "fa-solid fa-copy")



            d3.select("#btn-copyemail")
                .on("click", function () {
                    navigator.clipboard.writeText("rf312@sussex.ac.uk");

                    $("#btn-copyemail")
                        .attr('title', 'Copied!')
                        //.attr('data-original-title', 'NEW_TITLE')
                        .tooltip('_fixTitle')
                        .tooltip('show');


                    console.log(d3.select("body").select("tooltip"));

                });





            /*
            d3.select("#progress-tour")
                            .text("Guided tour")
                            .style("font-family", "Arial")
                            .append("i")
                            .attr("class", "fa-solid fa-flag-checkered");
                            */



        }

        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });

        if (d3.select("#progress-overview").style("width") == "100%")
            d3.select("#progress-overview")
                .on("click", function () {
                    window.location.href = 'twl-landingpage.html?page=landingpage';
                });

        if (d3.select("#progress-tour").style("width") == "100%")
            d3.select("#progress-tour")
                .on("click", function () {
                    window.location.href = 'treeswlinking.html?page=guidedtour';
                });

        if (d3.select("#progress-training").style("width") == "100%")
            d3.select("#progress-training")
                .on("click", function () {
                    window.location.href = 'treeswlinking.html?page=trainingquestions';
                });


        function update_log(elementID, elementType, elementDescription, eventDescription) {


            logObject = JSON.parse(localStorage.getItem("logObject"));
            logObject.push({
                "date": date.getDate() + "-" + date.getMonth() + "-" + date.getFullYear(),
                "userID": localStorage.getItem("userID"),
                "vizID": "linkedtree",
                "screenWidth": window.innerWidth,
                "screenHeight": window.innerHeight,
                "pageID": "landingpage",
                "elementID": elementID,
                "elementType": elementType,
                "elementDescription": elementDescription,
                "eventDescription": eventDescription,
                "overall_timestamp": Math.round(+new Date() / 1000),
                //"phase_timestamp": new Date().getMilliseconds(),
                "questionID": "",
                "question": "",
                "useranswer": "",
                "correctanswer": "",
                "score": ""
            });
            localStorage.removeItem("logObject");
            localStorage.setItem("logObject", JSON.stringify(logObject));

        }


    </script>

</body>

</html>